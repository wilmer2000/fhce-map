<div class="relative h-full w-full">
  <div class="absolute left-0 right-0 top-0 z-0 flex h-full w-full">
    <div class="h-full w-full" [id]="mapContainerId"></div>
  </div>
  <div class="absolute left-0 top-0 z-10 w-full p-4">
    <div class="block h-full w-full rounded-2xl bg-white p-4 shadow-xl">
      <div class="mb-4 flex justify-between items-center w-full">
        <div class="flex-grow">
          <div class="flex align-center justify-between sm:justify-start gap-6 sm:gap-4">
            <h2 class="text-lg sm:text-2xl font-medium leading-none">Cartografía Teatral de Montevideo</h2>
            <button (click)="openMoreInfoModal()" class="btn text-nowrap">Más info</button>
          </div>
        </div>
        @if (!isMobile()) {
          <div class="flex-grow-0">
            <ul class="flex gap-3">
              <li class="self-center m-0"><img [height]="44" [ngSrc]="'/assets/logo-fche.svg'" [width]="134" alt=""></li>
              <li class="self-center m-0"><img [height]="48" [ngSrc]="'/assets/logo-facultad.svg'" [width]="134" alt="">
              </li>
              <li class="self-center m-0"><img [height]="48" [ngSrc]="'/assets/logo-imm.svg'" [width]="134" alt=""></li>
            </ul>
          </div>
        }
      </div>
      <div class="flex w-full gap-4">
        <div class="flex-grow-0 w-[100px]">
          <h3 class="flex h-full items-center text-3xl w-full">
            <span class="me-2 text-xs">Año</span>
            <span class="text-md  sm:text-[32px] font-medium">
              {{ mapState.yearSelected }}
            </span>
          </h3>
        </div>
        <div class="flex-grow">
          <input
            (change)="onYearChange($event)"
            [max]="mapState.yearLimit.endYear"
            [min]="mapState.yearLimit.startYear"
            class="input-range-selector"
            id="year-selected"
            list="mark-years"
            name="year-selected"
            type="range"
          />
          <datalist class="mark-years" id="mark-years">
            @if (mapState.steps) {
              @for (step of mapState.steps; track step) {
                <option [label]="step" [value]="step">{{ step }}</option>
              }
            }
          </datalist>
        </div>
      </div>
    </div>
  </div>
  <div class="absolute left-0 bottom-0 z-10 p-4">
    <div class="block rounded-2xl bg-white p-4 shadow-xl">
      @for (list of mapTypes | keyvalue; track list.value) {
        @if (list.value !== mapTypes.All) {
          <div class="flex items-center">
            <div class="me-3">
              <div class="rounded-full w-[12px] h-[12px] block"
                   [ngStyle]="{ 'background': mapColors[list.value] }"></div>
            </div>
            <div class="flex-grow">{{ list.value | mapType }}</div>
          </div>
        }
      }
    </div>
  </div>
</div>



